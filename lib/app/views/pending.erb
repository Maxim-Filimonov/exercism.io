<% if current_user.nitpicker? %>
<p>Read about <a href="/nitpick">how to nitpick</a></p>
<p>Read about <a href="/cycle">the feedback cycle</a>.</p>
<% end %>
<% unless pending.empty? %>
  <h2>Needs Nitpicking</h2>
  <div class="pending-submissions" ng-app="exercismModule">
    <div ng-controller="PendingCtrl">

    <%= erb :filter_pending, locals: { label: 'User', options: users } %>
    <%= erb :filter_pending, locals: { label: 'Exercise', options: exercises } %>
    <%= erb :filter_pending, locals: { label: 'Language', options: languages } %>

    <label class="checkbox">
      <input type="checkbox" data-action="set-filter" data-filter="nits" data-selected="All" />
      I only want to see submissions without nits
    </label>

    <label class="checkbox">
      <input type="checkbox" data-action="set-filter" data-filter="arguments" data-selected="All" />
      I only want to see submissions without arguments
    </label>

    <hr/>

    <% pending.each do |submission| %>
      <%= erb :pending_submission, locals: { submission: submission } %>
    <% end %>

  </div>
  </div>
<% end %>
